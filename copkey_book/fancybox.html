<!--script src="includes/jquery.easydrag.handler.beta2.js" type="text/javascript"></script-->
<!--script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script-->
<script src="includes/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"></script>
<script src="includes/jquery.fancybox.js"></script>

<script type="text/javascript">
  $(document).ready(function() {
   var initfancybox = function() {
    $('a.fbox').fancybox({
        //modal: true,
        closeBtn: true,
        showCloseButton : true,
        enableEscapeButton: true,
        hideOnOverlayClick: false,
        hideOnContentClick: false,
        closeClick : false,
        helpers : {
          overlay: {
            locked: false,
            closeClick: false
          },
          title: {
            type: 'inside',
            position: 'top',
          }
        },
        nextEffect: 'fade',
        prevEffect: 'fade',
        beforeLoad: function() {
          // if commented out, it works
          // event.preventDefault(); 
          slideMove = false;
        },
        beforeShow: function() {
          this.title = $(this.element).data("alt");
        },
        afterShow: function() { 
          //$("div.fancybox-wrap").addClass('modal');
          this.wrap.draggable();
          document.getElementsByClassName("fancybox-overlay")[0].style.display = "none";
          $(".fancybox-skin").css({'display':'inline-block', 'position':'relative'}); 
          $(".fancybox-inner").css({'width':'100%', 'height':'100%'}); 
          $('.fancybox-inner').resizable({
             //alsoResize: ".modal-dialog",
             aspectRatio: true,
             minHeight: 300,
             minWidth: 300
          });
          //$(".fancybox-wrap").easydrag(); 
          //$(".fancybox-wrap").draggable();
        }/*,
        onComplete: function() {
          // append the handler on the top-left corner of fancybox
          $(".fancybox-wrap").append("<button id='handler'>Drag me</button>");
          // set the handler using the handler's element ID
          $(".fancybox-wrap").setHandler('handler');
        },
        onClosed: function() {
          $(".fancybox-wrap #handler").remove();
        }*/
    });
   };
   initfancybox();
   //$(".fancybox-wrap").easydrag(); 
   //$(".fancybox-wrap").draggable(); 
   //$('.modal').draggable();
  });
</script>
